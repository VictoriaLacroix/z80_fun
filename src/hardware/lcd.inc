; vim: ft=asm
; lcd.inc
; Constants and Addresses for Gameboy Hardware LCD functions.

; LCD Control
GbLcdCtrl       EQU     $FF40

GB_LCD_CTRL_ON          EQU     %10000000
GB_LCD_CTRL_WIN_MAP1    EQU     %00000000
GB_LCD_CTRL_WIN_MAP2    EQU     %01000000
GB_LCD_CTRL_WIN_ON      EQU     %00100000
GB_LCD_CTRL_TILESET1    EQU     %00000000
GB_LCD_CTRL_TILESET2    EQU     %00010000
GB_LCD_CTRL_BG_MAP1     EQU     %00000000
GB_LCD_CTRL_BG_MAP2     EQU     %00001000
GB_LCD_CTRL_OBJ_8x8     EQU     %00000000
GB_LCD_CTRL_OBJ_8x16    EQU     %00000100
GB_LCD_CTRL_OBJ_ON      EQU     %00000010
GB_LCD_CTRL_BG_ON       EQU     %00000001

GB_LCD_CTRL_BIT_BG              EQU     0
GB_LCD_CTRL_BIT_OBJ             EQU     1
GB_LCD_CTRL_BIT_OBJ_SIZE        EQU     2
GB_LCD_CTRL_BIT_BG_MAP          EQU     3
GB_LCD_CTRL_BIT_TILESET         EQU     4
GB_LCD_CTRL_BIT_WIN             EQU     5
GB_LCD_CTRL_BIT_WIN_MAP         EQU     6
GB_LCD_CTRL_BIT_ENABLE          EQU     7

; LCD Status
GbLcdSTat       EQU     $FF41

GB_LCD_STAT_SCANLINE_ENABLE     EQU     %01000000
GB_LCD_STAT_OAM_ENABLE          EQU     %00100000
GB_LCD_STAT_VBLANK_ENABLE       EQU     %00010000
GB_LCD_STAT_HBLANK_ENABLE       EQU     %00001000
GB_LCD_STAT_SCANLINE_FLAG       EQU     %00000100

GB_LCD_STAT_MODE_MASK           EQU     %00000011
GB_LCD_STAT_MODE_HBLANK         EQU     $00
GB_LCD_STAT_MODE_VBLANK         EQU     $01
GB_LCD_STAT_MODE_BUSY_OAM       EQU     $02
GB_LCD_STAT_MODE_BUSY_TRANSFER  EQU     $03

; BG (and OBJ)? Layer Scrolling.
GbBgScrollX    EQU     $FF42
GbBgScrollY    EQU     $FF43

; LCD Scanline
GbScanline      EQU     $FF44 ; 0 - 153. Scanline >= 144 indicates VBlank.
GbScanlineTrig  EQU     $FF45

; something to do with the LCD, idgaf
GbLcdDma        EQU     $FF46

; GB Palettes
GbBgPalette     EQU     $FF47
GbObj0Palette   EQU     $FF48
GbObj1Palette   EQU     $FF49

GB_PALETTE_COLOR3_MASK          EQU     %11000000
GB_PALETTE_COLOR2_MASK          EQU     %00110000
GB_PALETTE_COLOR1_MASK          EQU     %00001100
GB_PALETTE_COLOR0_MASK          EQU     %00000011
GB_PALETTE_COLOR3_SHIFT_AMT     EQU     6
GB_PALETTE_COLOR2_SHIFT_AMT     EQU     4
GB_PALETTE_COLOR1_SHIFT_AMT     EQU     2
GB_PALETTE_COLOR0_SHIFT_AMT     EQU     0

; Window Layer Scrolling
GbWinScrollY    EQU     $FF4A
GbWinScrollX    EQU     $FF4B ; WinX - 7. Seriously.

; GBC Palette
GbcPaletteBgIndex       EQU     $FF68
GbcPaletteBgData        EQU     $FF69
GbcPaletteObjIndex      EQU     $FF6A
GbcPaletteObjData       EQU     $FF6B

GBC_PALETTE_INDEX_VALUE_MASK            EQU     %00111111
GBC_PALETTE_INDEX_AUTO_INCREMENT        EQU     %10000000

GBC_PALETTE_DATA_CHANNEL_SIZE   EQU     5
GBC_PALETTE_DATA_BLUE_SHIFT     EQU     10
GBC_PALETTE_DATA_GREEN_SHIFT    EQU     5
GBC_PALETTE_DATA_RED_SHIFT      EQU     0
GBC_PALETTE_DATA_BLUE_MASK      EQU     %0111110000000000
GBC_PALETTE_DATA_GREEN_MASK     EQU     %0000001111100000
GBC_PALETTE_DATA_RED_MASK       EQU     %0000000000011111

; GBC Ram Banks Selection
GbSelectVram    EQU     $FF4F
GbSelectWram    EQU     $FF70

GBC_SELECT_VRAM_BANK_0          EQU     %00000000
GBC_SELECT_VRAM_BANK_1          EQU     %00000001
GBC_SELECT_WRAM_BANK_MASK       EQU     %00000111

; GBC Clock Speed Setting
GbcClockSpeed   EQU     $FF4D

GBC_CLOCK_SPEED_IS_DOUBLE       EQU     %10000000
GBC_CLOCK_SPEED_IS_NORMAL       EQU     %00000000
GBC_CLOCK_SPEED_SWITCH          EQU     %00000001

; GBC Infrared.
GbcInfrared     EQU     $FF5D

GBC_INFRARED_WRITE_MASK         EQU %00000001
GBC_INFRARED_WRITE_OFF          EQU %00000000
GBC_INFRARED_WRITE_ON           EQU %00000001
GBC_INFRARED_READ_MASK          EQU %00000010
GBC_INFRARED_READ_RECEIVING     EQU %00000000
GBC_INFRARED_READ_NORMAL        EQU %00000010
GBC_INFRARED_READ_ENABLE        EQU %11000000
GBC_INFRARED_READ_DISABLE       EQU %00000000

; GBC DMA.
GbcDmaSourceHigh        EQU     $FF51
GbcDmaSourceLow         EQU     $FF52
GbcDmaDestHigh          EQU     $FF53
GbcDmaDestLow           EQU     $FF54
GbcDmaTransfer          EQU     $FF55

GBC_DMA_TRANSFER_GENERAL        EQU     %00000000
GBC_DMA_TRANSFER_HBLANK         EQU     %10000000
GBC_DMA_TRANSFER_ACTIVE         EQU     %00000000
GBC_DMA_TRANSFER_INACTIVE       EQU     %10000000

; Super Game Boy Stuff
SGB_PAL01       EQU     $00
SGB_PAL23       EQU     $08
SGB_PAL03       EQU     $10
SGB_PAL12       EQU     $18
SGB_ATTR_BLK    EQU     $20
SGB_ATTR_LIN    EQU     $28
SGB_ATTR_DIV    EQU     $30
SGB_ATTR_CHR    EQU     $38
SGB_SOUND       EQU     $40
SGB_SOU_TRN     EQU     $48
SGB_PAL_SET     EQU     $50
SGB_PAL_TRN     EQU     $58
SGB_ATRC_EN     EQU     $60
SGB_TEST_EN     EQU     $68
SGB_ICON_EN     EQU     $70
SGB_DATA_SND    EQU     $78
SGB_DATA_TRN    EQU     $80
SGB_MLT_REQ     EQU     $88
SGB_JUMP        EQU     $90
SGB_CHR_TRN     EQU     $98
SGB_PCT_TRN     EQU     $A0
SGB_ATTR_TRN    EQU     $A8
SGB_ATTR_SET    EQU     $B0
SGB_MASK_EN     EQU     $B8
SGB_OBJ_TRN     EQU     $C0

